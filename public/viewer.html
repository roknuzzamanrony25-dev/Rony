<!DOCTYPE html>
<html>
<head><title>Monitor</title><style>body{background:#111;color:#fff;text-align:center;font-family:sans-serif;}video{width:90%;max-width:700px;background:#000;border:2px solid #333;margin-top:20px;border-radius:10px;}button{padding:15px 30px;background:#f85606;color:#fff;border:none;border-radius:5px;font-weight:bold;cursor:pointer;margin-top:20px;}</style></head>
<body>
    <div id="login" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:flex;align-items:center;justify-content:center;">
        <div><h2>ğŸ”’ Login</h2><input type="password" id="ps" placeholder="rony25" style="padding:10px;"><button onclick="if(document.getElementById('ps').value=='rony25'){document.getElementById('login').style.display='none';init();}">Go</button></div>
    </div>
    <h2>ğŸ›°ï¸ Live Monitor</h2>
    <video id="remoteVideo" autoplay playsinline controls></video><br>
    <button onclick="socket.emit('switch')">ğŸ”„ Switch Front/Back Camera</button>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        let socket;
        function init() {
            socket = io();
            const pc = new RTCPeerConnection({ iceServers: [{ urls: "stun:stun.l.google.com:19302" }] });
            socket.on("offer", async (offer) => {
                await pc.setRemoteDescription(new RTCSessionDescription(offer));
                const answer = await pc.createAnswer(); await pc.setLocalDescription(answer);
                socket.emit("answer", answer);
            });
            socket.on("ice", c => pc.addIceCandidate(new RTCIceCandidate(c)));
            pc.onicecandidate = e => e.candidate && socket.emit("ice", e.candidate);
            pc.ontrack = e => document.getElementById("remoteVideo").srcObject = e.streams[0];
        }
    </script>
</body>
</html>

